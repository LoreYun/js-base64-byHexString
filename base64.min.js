~(function(a,b){if(typeof define==="function"&&define.amd){define([],b)}else{if(typeof module==="object"&&module.exports){module.exports=b()}else{a.Base=b()}}}(this,function(){function g(){this._keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}g.prototype.encode=function(k){var h="",r,p,n,q,o,m,l,j=0;if(typeof k==="string"){k=this._utf8_encode(k);while(j<k.length){r=k.charCodeAt(j++);p=k.charCodeAt(j++);n=k.charCodeAt(j++);q=r>>2;o=((r&3)<<4)|(p>>4);m=((p&15)<<2)|(n>>6);l=n&63;if(isNaN(p)){m=l=64}else{if(isNaN(n)){l=64}}h=h+this._keyStr.charAt(q)+this._keyStr.charAt(o)+this._keyStr.charAt(m)+this._keyStr.charAt(l)}}else{h=a(k)}return h};g.prototype.decode=function(k){var h="",r,p,n,q,o,m,l,j=0;k=k.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(j<k.length){q=this._keyStr.indexOf(k.charAt(j++));o=this._keyStr.indexOf(k.charAt(j++));m=this._keyStr.indexOf(k.charAt(j++));l=this._keyStr.indexOf(k.charAt(j++));r=(q<<2)|(o>>4);p=((o&15)<<4)|(m>>2);n=((m&3)<<6)|l;h=h+String.fromCharCode(r);if(m!=64){h=h+String.fromCharCode(p)}if(l!=64){h=h+String.fromCharCode(n)}}h=this._utf8_decode(h);return h};g.prototype.decodeByHexString=function(i){var h=c(i);return this.encode(h)};g.prototype._utf8_encode=function(i){i=i.replace(/\r\n/g,"\n");var h="";for(var k=0;k<i.length;k++){var j=i.charCodeAt(k);if(j<128){h+=String.fromCharCode(j)}else{if((j>127)&&(j<2048)){h+=String.fromCharCode((j>>6)|192);h+=String.fromCharCode((j&63)|128)}else{h+=String.fromCharCode((j>>12)|224);h+=String.fromCharCode(((j>>6)&63)|128);h+=String.fromCharCode((j&63)|128)}}}return h};g.prototype._utf8_decode=function(h){var k="",m=0,o=0,n=0,l=0,j=0;while(m<h.length){o=h.charCodeAt(m);if(o<128){k+=String.fromCharCode(o);m++}else{if((o>191)&&(o<224)){l=h.charCodeAt(m+1);k+=String.fromCharCode(((o&31)<<6)|(l&63));m+=2}else{l=h.charCodeAt(m+1);j=h.charCodeAt(m+2);k+=String.fromCharCode(((o&15)<<12)|((l&63)<<6)|(j&63));m+=3}}}return k};var a=function(k){var h="",j,l;var m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split("");if(typeof k==="string"){for(l=0,k=k.split("");l<k.length;l++){k[l]=k[l].charCodeAt(0)}}for(l=0;l<k.length;l+=3){j=(k[l]&255)<<16|(k[l+1]&255)<<8|(k[l+2]&255);h+=m[(j&16515072)>>>18]+m[(j&258048)>>>12]+m[(l+3>=k.length&&(k.length<<1)%3===2?64:(j&4032)>>>6)]+m[(l+3>=k.length&&(k.length<<1)%3?64:j&63)]}return h};var b=function(k){k=k.replace(/[^0-9^a-f]/ig,"");if(k.length&1){return false}var h=[],j;for(j=0;j<k.length;j+=2){h[h.length]=parseInt(k.substr(j,2),16)}return h};function c(h){if(h==null||h===""){return null}h=h.toUpperCase();var k=h.length/2;var l=e(h);var m=[];for(var j=0;j<k;j++){var n=j*2;m[j]=(f(l[n])<<4|f(l[n+1]))}return m}function f(h){return"0123456789ABCDEF".indexOf(h)}function e(k){var j=[];for(var h=0;h<k.length;h++){j[h]=k.charAt(h)}return j}var d=new g();return d}));